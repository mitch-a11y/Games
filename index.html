<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hanse: Merchants of the Baltic</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><text y='28' font-size='28'>âš“</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Title Screen -->
    <div id="title-screen" class="screen active">
        <div class="title-container">
            <div class="title-ship-left"></div>
            <div class="title-content">
                <h1 class="game-title">HANSE</h1>
                <h2 class="game-subtitle">Merchants of the Baltic</h2>
                <div class="title-ornament"></div>
                <div class="title-menu">
                    <button id="btn-new-game" class="title-btn">Neues Spiel</button>
                    <button id="btn-load-game" class="title-btn">Spiel Laden</button>
                    <button id="btn-help" class="title-btn">Anleitung</button>
                </div>
                <p class="title-credit">Inspiriert von Hanse (1986) &bull; Patrizier &bull; Port Royale</p>
            </div>
            <div class="title-ship-right"></div>
        </div>
    </div>

    <!-- New Game Setup -->
    <div id="setup-screen" class="screen">
        <div class="setup-container">
            <h2>Neues Spiel starten</h2>
            <div class="setup-form">
                <div class="form-group">
                    <label for="player-name">Name des Kaufmanns:</label>
                    <input type="text" id="player-name" value="Heinrich Brandis" maxlength="24">
                </div>
                <div class="form-group">
                    <label for="home-city">Heimatstadt:</label>
                    <select id="home-city">
                        <option value="Luebeck">L&uuml;beck</option>
                        <option value="Hamburg">Hamburg</option>
                        <option value="Bremen">Bremen</option>
                        <option value="Rostock">Rostock</option>
                        <option value="Danzig">Danzig</option>
                        <option value="Riga">Riga</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="difficulty">Schwierigkeitsgrad:</label>
                    <select id="difficulty">
                        <option value="easy">Lehrling</option>
                        <option value="normal" selected>Kaufmann</option>
                        <option value="hard">Ratsherr</option>
                    </select>
                </div>
                <div class="setup-buttons">
                    <button id="btn-start-game" class="btn-primary">Spiel starten</button>
                    <button id="btn-back-title" class="btn-secondary">Zur&uuml;ck</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Screen -->
    <div id="help-screen" class="screen">
        <div class="help-container">
            <h2>Anleitung</h2>
            <div class="help-content">
                <h3>Willkommen bei Hanse: Merchants of the Baltic!</h3>
                <p>Du bist ein aufstrebender Kaufmann im sp&auml;tmittelalterlichen Nordeuropa. Handle mit Waren zwischen den St&auml;dten der Hanse, baue deine Flotte aus, errichte Produktionsst&auml;tten und steige in der Gesellschaft auf.</p>

                <h3>Schnellstart: Deine erste Handelsreise</h3>
                <ol>
                    <li><strong>Markt pruefen:</strong> Im Stadt-Tab siehst du die Marktpreise. Gr&uuml;ne Preise sind g&uuml;nstig (unter Basispreis), rote sind teuer.</li>
                    <li><strong>Waren kaufen:</strong> Wechsle zum Handel-Tab. Kaufe g&uuml;nstige Waren mit den +1, +5 oder Max-Buttons. Tipp: Waren, die die Stadt produziert, sind hier billig!</li>
                    <li><strong>Segeln:</strong> Klicke auf eine andere Stadt in der Karte. Im Stadt-Tab erscheint ein "Schiff hierher senden"-Button. Alternativ: Flotte-Tab &rarr; Schiff anklicken &rarr; Zielstadt waehlen.</li>
                    <li><strong>Verkaufen:</strong> Am Ziel angelangt, wechsle zum Handel-Tab und verkaufe deine Waren. Waren, die dort nachgefragt werden, bringen mehr Gold!</li>
                </ol>

                <h3>Handel</h3>
                <p>Kaufe Waren g&uuml;nstig ein und verkaufe sie dort, wo sie gebraucht werden. Die Preise h&auml;ngen von Angebot und Nachfrage ab. Du kannst maximal 70% des Stadtvorrats kaufen &ndash; die Stadt behaelt eine Reserve.</p>
                <p><strong>Achtung:</strong> Verkaufst du Waren in derselben Stadt, in der du sie gekauft hast, erhaeltst du einen Preisabzug. Handel lohnt sich nur ueber Distanz!</p>

                <h3>Waren</h3>
                <ul>
                    <li><strong>Getreide</strong> &ndash; Grundnahrungsmittel, &uuml;berall gebraucht</li>
                    <li><strong>Fisch</strong> &ndash; Aus K&uuml;stenst&auml;dten, haltbar als Stockfisch</li>
                    <li><strong>Holz</strong> &ndash; Baustoff und Schiffsmaterial</li>
                    <li><strong>Eisenwaren</strong> &ndash; Werkzeuge und Waffen</li>
                    <li><strong>Tuch</strong> &ndash; Flandrisches Tuch, Luxusgut</li>
                    <li><strong>Pelze</strong> &ndash; Aus dem Osten, sehr wertvoll</li>
                    <li><strong>Bier</strong> &ndash; Bremer und Hamburger Exportgut</li>
                    <li><strong>Salz</strong> &ndash; Konservierungsmittel, unverzichtbar</li>
                    <li><strong>Gewuerze</strong> &ndash; Seltene Luxusg&uuml;ter</li>
                    <li><strong>Wein</strong> &ndash; Importiert, f&uuml;r die Oberschicht</li>
                </ul>

                <h3>Schiffe</h3>
                <p>Beginne mit einer kleinen Kogge und baue deine Flotte aus. Gr&ouml;&szlig;ere Schiffe tragen mehr Fracht, sind aber teurer. Neue Schiffe werden in Werften gebaut und brauchen mehrere Tage bis zur Fertigstellung.</p>
                <p><strong>Reparatur:</strong> Wird dein Schiff besch&auml;digt (z.B. durch Piraten), klicke es im Flotte-Tab an. Der Reparatur-Button erscheint unter den Navigationsoptionen.</p>

                <h3>Gebaeude</h3>
                <p>Errichte Gebaeude in Staedten, um Waren zu produzieren und deinen Einfluss zu staerken:</p>
                <ul>
                    <li><strong>Handelskontor</strong> &ndash; Voraussetzung fuer alle anderen Gebaeude. Kann aufgeruestet werden.</li>
                    <li><strong>Produktionsgebaeude</strong> (Brauerei, Werkstatt, etc.) &ndash; Produzieren Waren und koennen auf Stufe 3 ausgebaut werden.</li>
                    <li><strong>Kirche &amp; Hospital</strong> &ndash; Erhoehen Ansehen und Bevoelkerungswachstum.</li>
                </ul>
                <p>Gebaeude brauchen Bauzeit und verursachen monatliche Unterhaltskosten. Mehr Gebaeude locken Bevoelkerung an und erhoehen die Nachfrage.</p>

                <h3>Ansehen</h3>
                <p>Dein Ansehen in einer Stadt steigt durch den Bau von Gebaeuden und Kirchen. Hoeheres Ansehen kann bessere Handelskonditionen bringen.</p>

                <h3>Steuerung</h3>
                <ul>
                    <li><strong>Stadt auswaehlen:</strong> Klicke auf eine Stadt in der Karte</li>
                    <li><strong>Segeln:</strong> Klicke eine Zielstadt an &rarr; "Schiff hierher senden" im Stadt-Tab, oder Flotte-Tab &rarr; Schiff anklicken &rarr; Ziel</li>
                    <li><strong>Handeln:</strong> Handel-Tab &rarr; +1/+5/Max zum Kaufen, -1/-5/Alle zum Verkaufen</li>
                    <li><strong>Reparieren:</strong> Flotte-Tab &rarr; Besch&auml;digtes Schiff anklicken &rarr; Reparieren</li>
                    <li>Leertaste pausiert/startet die Zeit</li>
                    <li>Tasten 1-3 &auml;ndern die Spielgeschwindigkeit</li>
                </ul>

                <h3>Ziel</h3>
                <p>Werde der m&auml;chtigste Kaufmann der Hanse! Steige vom Kaufgesellen zum Eldermann auf. Dein Rang haengt von deinem Gesamtvermoegen ab (Gold + Schiffe + Gebaeude).</p>
            </div>
            <button id="btn-back-from-help" class="btn-primary">Zur&uuml;ck</button>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="game-screen" class="screen">
        <!-- Top Bar -->
        <div id="top-bar">
            <div class="top-bar-left">
                <span id="player-display" class="top-info"></span>
                <span id="rank-display" class="top-info"></span>
            </div>
            <div class="top-bar-center">
                <span id="date-display" class="top-info"></span>
                <div class="speed-controls">
                    <button class="speed-btn" data-speed="0" title="Pause">&#9646;&#9646;</button>
                    <button class="speed-btn active" data-speed="1" title="Normal">&#9654;</button>
                    <button class="speed-btn" data-speed="2" title="Schnell">&#9654;&#9654;</button>
                    <button class="speed-btn" data-speed="3" title="Sehr schnell">&#9654;&#9654;&#9654;</button>
                </div>
            </div>
            <div class="top-bar-right">
                <span id="gold-display" class="top-info gold">0 Gold</span>
                <button id="btn-save" class="top-btn" title="Speichern">&#128190;</button>
                <button id="btn-menu" class="top-btn" title="Men&uuml;">&#9776;</button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-content">
            <!-- Map Panel -->
            <div id="map-panel">
                <canvas id="game-map"></canvas>
                <div id="map-tooltip" class="tooltip hidden"></div>
                <div id="wind-indicator">
                    <span id="wind-direction"></span>
                    <span id="wind-label">Wind</span>
                </div>
            </div>

            <!-- Side Panel -->
            <div id="side-panel">
                <div id="side-panel-tabs">
                    <button class="tab-btn active" data-tab="city">Stadt</button>
                    <button class="tab-btn" data-tab="trade">Handel</button>
                    <button class="tab-btn" data-tab="fleet">Flotte</button>
                    <button class="tab-btn" data-tab="build">Bauen</button>
                </div>

                <!-- City Tab -->
                <div id="tab-city" class="tab-content active">
                    <div id="city-info">
                        <h3 id="city-name">Keine Stadt ausgew&auml;hlt</h3>
                        <div id="city-details"></div>
                    </div>
                </div>

                <!-- Trade Tab -->
                <div id="tab-trade" class="tab-content">
                    <div id="trade-panel">
                        <h3>Handelskontor</h3>
                        <div id="trade-goods-list"></div>
                    </div>
                </div>

                <!-- Fleet Tab -->
                <div id="tab-fleet" class="tab-content">
                    <div id="fleet-panel">
                        <h3>Flotte</h3>
                        <div id="fleet-list"></div>
                        <div id="shipyard-section" class="hidden">
                            <h4>Werft</h4>
                            <div id="shipyard-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Build Tab -->
                <div id="tab-build" class="tab-content">
                    <div id="build-panel">
                        <h3>Bauen</h3>
                        <div id="build-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Bar / Message Log -->
        <div id="bottom-bar">
            <div id="message-log"></div>
        </div>

        <!-- Modal Overlay -->
        <div id="modal-overlay" class="hidden">
            <div id="modal-content"></div>
        </div>

        <!-- Notification Area -->
        <div id="notification-area"></div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/goods.js"></script>
    <script src="js/cities.js"></script>
    <script src="js/ships.js"></script>
    <script src="js/map.js"></script>
    <script src="js/trading.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/buildings.js"></script>
    <script src="js/events.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
