<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Hanse: Merchants of the Baltic</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><text y='28' font-size='28'>âš“</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Cinematic Intro / Title Screen -->
    <div id="title-screen" class="screen active">
        <canvas id="intro-canvas"></canvas>
        <div class="title-overlay">
            <div class="title-content" id="title-content" style="opacity:0">
                <h1 class="game-title">HANSE</h1>
                <h2 class="game-subtitle">Merchants of the Baltic</h2>
                <div class="title-ornament"></div>
                <div class="title-menu" style="opacity:0">
                    <button id="btn-new-game" class="title-btn">Neues Spiel</button>
                    <button id="btn-load-game" class="title-btn">Spiel Laden</button>
                    <button id="btn-help" class="title-btn">Anleitung</button>
                </div>
                <p class="title-credit" style="opacity:0">Inspiriert von Hanse (1986) &bull; Patrizier &bull; Port Royale</p>
            </div>
        </div>
    </div>

    <!-- New Game Setup -->
    <div id="setup-screen" class="screen">
        <canvas id="setup-bg-canvas"></canvas>
        <div class="setup-overlay">
            <div class="setup-container">
                <h2>&#9875; Neues Spiel starten</h2>
                <div class="setup-form">
                    <div class="form-group">
                        <label for="player-name">Name des Kaufmanns:</label>
                        <input type="text" id="player-name" value="Heinrich Brandis" maxlength="24">
                    </div>
                    <div class="form-group">
                        <label for="home-city">Heimatstadt:</label>
                        <select id="home-city">
                            <option value="Luebeck">L&uuml;beck</option>
                            <option value="Hamburg">Hamburg</option>
                            <option value="Bremen">Bremen</option>
                            <option value="Rostock">Rostock</option>
                            <option value="Danzig">Danzig</option>
                            <option value="Riga">Riga</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="difficulty">Schwierigkeitsgrad:</label>
                        <select id="difficulty">
                            <option value="easy">Lehrling</option>
                            <option value="normal" selected>Kaufmann</option>
                            <option value="hard">Ratsherr</option>
                        </select>
                    </div>
                    <div class="setup-buttons">
                        <button id="btn-start-game" class="btn-primary">&#9654; Spiel starten</button>
                        <button id="btn-back-title" class="btn-secondary">Zur&uuml;ck</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Screen -->
    <div id="help-screen" class="screen">
        <div class="help-container">
            <h2>&#9875; Anleitung</h2>
            <div class="help-content">
                <h3>Willkommen bei Hanse: Merchants of the Baltic!</h3>
                <p>Du bist ein aufstrebender Kaufmann im sp&auml;tmittelalterlichen Nordeuropa. Handle mit Waren zwischen den St&auml;dten der Hanse, baue deine Flotte aus, errichte Produktionsst&auml;tten und steige in der Gesellschaft auf.</p>

                <h3>Handel</h3>
                <p>Kaufe Waren g&uuml;nstig ein und verkaufe sie dort, wo sie gebraucht werden. Die Preise h&auml;ngen von Angebot und Nachfrage ab. Beachte die Produktionsst&auml;rken der St&auml;dte!</p>

                <h3>Waren</h3>
                <ul>
                    <li><strong>Getreide</strong> &ndash; Grundnahrungsmittel</li>
                    <li><strong>Fisch</strong> &ndash; Aus K&uuml;stenst&auml;dten</li>
                    <li><strong>Holz</strong> &ndash; Baustoff und Schiffsmaterial</li>
                    <li><strong>Eisenwaren</strong> &ndash; Werkzeuge und Waffen</li>
                    <li><strong>Tuch</strong> &ndash; Flandrisches Tuch, Luxusgut</li>
                    <li><strong>Pelze</strong> &ndash; Aus dem Osten, wertvoll</li>
                    <li><strong>Bier</strong> &ndash; Bremer und Hamburger Export</li>
                    <li><strong>Salz</strong> &ndash; Konservierungsmittel</li>
                    <li><strong>Gew&uuml;rze</strong> &ndash; Seltene Luxusg&uuml;ter</li>
                    <li><strong>Wein</strong> &ndash; F&uuml;r die Oberschicht</li>
                </ul>

                <h3>Steuerung</h3>
                <ul>
                    <li>Klicke auf St&auml;dte zum Navigieren</li>
                    <li>Seitenleiste f&uuml;r Handel und Verwaltung</li>
                    <li>Leertaste pausiert/startet die Zeit</li>
                    <li>Tasten 1-3 = Spielgeschwindigkeit</li>
                </ul>

                <h3>Ziel</h3>
                <p>Werde der m&auml;chtigste Kaufmann der Hanse! Steige vom H&auml;ndler zum Eldermann auf.</p>
            </div>
            <button id="btn-back-from-help" class="btn-primary">Zur&uuml;ck</button>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="game-screen" class="screen">
        <!-- Top Bar -->
        <div id="top-bar">
            <div class="top-bar-left">
                <span id="player-display" class="top-info"></span>
                <span id="rank-display" class="top-info"></span>
            </div>
            <div class="top-bar-center">
                <span id="date-display" class="top-info"></span>
                <div class="speed-controls">
                    <button class="speed-btn" data-speed="0" title="Pause">&#9646;&#9646;</button>
                    <button class="speed-btn active" data-speed="1" title="Normal">&#9654;</button>
                    <button class="speed-btn" data-speed="2" title="Schnell">&#9654;&#9654;</button>
                    <button class="speed-btn" data-speed="3" title="Sehr schnell">&#9654;&#9654;&#9654;</button>
                </div>
            </div>
            <div class="top-bar-right">
                <span id="gold-display" class="top-info gold">0 Gold</span>
                <button id="btn-quests" class="top-btn" title="Auftraege" onclick="UI.showQuestBoard()">&#128220;</button>
                <button id="btn-save" class="top-btn" title="Speichern">&#128190;</button>
                <button id="btn-menu" class="top-btn" title="Men&uuml;">&#9776;</button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-content">
            <!-- Map Panel -->
            <div id="map-panel">
                <canvas id="game-map"></canvas>
                <div id="map-tooltip" class="tooltip hidden"></div>
                <div id="wind-indicator">
                    <span id="wind-direction"></span>
                    <span id="wind-label">Wind</span>
                </div>
            </div>

            <!-- Side Panel -->
            <div id="side-panel">
                <button id="mobile-panel-close" onclick="UI.toggleMobilePanel(false)">&times;</button>
                <div id="side-panel-city-banner">
                    <span id="side-panel-city-name">Keine Stadt</span>
                    <span id="side-panel-city-gold"></span>
                </div>
                <div id="side-panel-tabs">
                    <button class="tab-btn active" data-tab="city">Stadt</button>
                    <button class="tab-btn" data-tab="trade">Handel</button>
                    <button class="tab-btn" data-tab="fleet">Flotte</button>
                    <button class="tab-btn" data-tab="build">Bauen</button>
                    <button class="tab-btn" data-tab="bank">Bank</button>
                </div>

                <!-- City Tab -->
                <div id="tab-city" class="tab-content active">
                    <div id="city-info">
                        <h3 id="city-name">Keine Stadt ausgew&auml;hlt</h3>
                        <div id="city-details"></div>
                    </div>
                </div>

                <!-- Trade Tab -->
                <div id="tab-trade" class="tab-content">
                    <div id="trade-panel">
                        <h3>Handelskontor</h3>
                        <div id="trade-goods-list"></div>
                    </div>
                </div>

                <!-- Fleet Tab -->
                <div id="tab-fleet" class="tab-content">
                    <div id="fleet-panel">
                        <h3>Flotte</h3>
                        <div id="fleet-list"></div>
                        <div id="shipyard-section" class="hidden">
                            <h4>Werft</h4>
                            <div id="shipyard-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Build Tab -->
                <div id="tab-build" class="tab-content">
                    <div id="build-panel">
                        <h3>Bauen</h3>
                        <div id="build-list"></div>
                    </div>
                </div>

                <!-- Bank Tab -->
                <div id="tab-bank" class="tab-content">
                    <div id="bank-panel">
                        <h3>Hanseatische Bank</h3>
                        <div id="bank-content"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Bar / Message Log -->
        <div id="bottom-bar">
            <div id="message-log"></div>
        </div>

        <!-- Modal Overlay -->
        <div id="modal-overlay" class="hidden">
            <div id="modal-content"></div>
        </div>

        <!-- Notification Area -->
        <div id="notification-area"></div>

        <!-- Mobile Panel Toggle -->
        <button id="mobile-panel-toggle" onclick="UI.toggleMobilePanel(true)" title="Seitenleiste">&#9776;</button>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/goods.js"></script>
    <script src="js/cities.js"></script>
    <script src="js/ships.js"></script>
    <script src="js/map.js"></script>
    <script src="js/trading.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/buildings.js"></script>
    <script src="js/bank.js"></script>
    <script src="js/diplomacy.js"></script>
    <script src="js/quests.js"></script>
    <script src="js/events.js"></script>
    <script src="js/combat.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/ui-quests.js"></script>
    <script src="js/ui-trade.js"></script>
    <script src="js/ui-fleet.js"></script>
    <script src="js/ui-build.js"></script>
    <script src="js/ui-bank.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/intro.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
